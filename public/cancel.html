<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title data-i18n="cancel.title">התשלום בוטל</title>

  <!-- ✅ שימוש ב-CSS הראשי (body.cancel-page + .status-card) -->
  <link rel="stylesheet" href="styles.css">

  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    body{font-family:Heebo,system-ui;max-width:780px;margin:40px auto;padding:0 16px}
    a{color:#2e7d32;font-weight:700;text-decoration:none}
    .lang-switch{display:flex;gap:8px;align-items:center;margin-bottom:16px}
    .visually-hidden{position:absolute!important;width:1px;height:1px;margin:-1px;border:0;padding:0;clip:rect(0 0 0 0);overflow:hidden}
  </style>
</head>
<body class="cancel-page">

  <!-- כרטיס סטטוס יוקרתי -->
  <main class="status-card">

    <!-- מתג שפה -->
    <div class="lang-switch" aria-label="Language">
      <label for="langSel" class="visually-hidden">Language</label>
      <select id="langSel">
        <option value="he">HE</option>
        <option value="en">EN</option>
        <option value="ru">RU</option>
        <option value="ka">KA</option>
      </select>
    </div>

    <!-- התוכן המקורי שלך עם data-i18n -->
    <h1 data-i18n="cancel.heading">❌ התשלום בוטל</h1>
    <p data-i18n="cancel.desc">אפשר לחזור ולנסות שוב בכל עת.</p>
    <p><a href="/" data-i18n="cancel.back_home">חזרה לעמוד הראשי</a></p>

  </main>

  <!-- סנכרון שפה ותרגום -->
  <script>
    (function syncLangDir(){
      const lang=(localStorage.getItem('site_lang')||(navigator.language||'he')).slice(0,2);
      document.documentElement.lang=lang;
      document.documentElement.dir=(lang==='he'||lang==='ar')?'rtl':'ltr';
      const sel=document.getElementById('langSel');
      if(sel){
        sel.value=lang;
        sel.addEventListener('change',e=>{
          localStorage.setItem('site_lang',e.target.value);
          location.reload();
        });
      }
    })();

    (function i18nPage(){
      const map={
        'cancel.title':     {he:'התשלום בוטל',en:'Payment Canceled',ru:'Оплата отменена',ka:'გადახდა გაუქმდა'},
        'cancel.heading':   {he:'❌ התשלום בוטל',en:'❌ Payment Canceled',ru:'❌ Оплата отменена',ka:'❌ გადახდა გაუქმდა'},
        'cancel.desc':      {he:'אפשר לחזור ולנסות שוב בכל עת.',en:'You can return and try again anytime.',ru:'Вы можете вернуться и попробовать снова в любое время.',ka:'შეგიძლიათ დაბრუნდეთ და სცადოთ თავიდან ნებისმიერ დროს.'},
        'cancel.back_home': {he:'חזרה לעמוד הראשי',en:'Back to Home',ru:'На главную',ka:'მთავარ გვერდზე დაბრუნება'}
      };
      const lang=(localStorage.getItem('site_lang')||'he').slice(0,2);
      document.title=map['cancel.title'][lang]||map['cancel.title'].he;
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key=el.getAttribute('data-i18n');
        const val=(map[key]&&(map[key][lang]||map[key].he));
        if(val) el.textContent=val;
      });
    })();
  </script>
</body>
</html>
